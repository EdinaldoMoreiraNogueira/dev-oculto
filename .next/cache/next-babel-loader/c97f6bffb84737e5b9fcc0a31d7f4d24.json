{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/acer/Diversos/devweek/dev-oculto/src/components/Sort.js\";\nimport { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport Button from './Button';\nconst Container = styled.div.withConfig({\n  displayName: \"Sort__Container\",\n  componentId: \"snc6fl-0\"\n})([\"display:flex;align-items:center;justify-content:center;\"]);\nexport default function Sort({\n  hasDrew\n}) {\n  const router = useRouter();\n  const {\n    id,\n    adminKey\n  } = router.query;\n  const {\n    0: drew,\n    1: setDrew\n  } = useState(false);\n\n  const handleSort = async () => {\n    const {\n      NEXT_PUBLIC_API_URL\n    } = process.env;\n    const {\n      status\n    } = await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/draw`, {\n      method: 'PUT',\n      headers: new Headers({\n        'admin-key': adminKey\n      })\n    });\n    if (status === 200) setDrew(true);\n  };\n\n  const DREW_STATUS = hasDrew || drew;\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [!DREW_STATUS && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSort,\n      children: \"Sortear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 25\n    }, this), DREW_STATUS && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"O sorteio j\\xE1 foi realizado.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/home/acer/Diversos/devweek/dev-oculto/src/components/Sort.js"],"names":["useState","useRouter","styled","Button","Container","div","Sort","hasDrew","router","id","adminKey","query","drew","setDrew","handleSort","NEXT_PUBLIC_API_URL","process","env","status","fetch","method","headers","Headers","DREW_STATUS"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,SAAS,GAAGF,MAAM,CAACG,GAAV;AAAA;AAAA;AAAA,+DAAf;AAMA,eAAe,SAASC,IAAT,CAAe;AAACC,EAAAA;AAAD,CAAf,EAA0B;AACvC,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM;AAAEQ,IAAAA,EAAF;AAAMC,IAAAA;AAAN,MAAmBF,MAAM,CAACG,KAAhC;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBb,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAMc,UAAU,GAAG,YAAY;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAA0BC,OAAO,CAACC,GAAxC;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAa,MAAMC,KAAK,CAAE,GAAEJ,mBAAoB,YAAWN,EAAG,OAAtC,EAA8C;AAC1EW,MAAAA,MAAM,EAAE,KADkE;AAE1EC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,qBAAaZ;AADM,OAAZ;AAFiE,KAA9C,CAA9B;AAOA,QAAIQ,MAAM,KAAK,GAAf,EAAoBL,OAAO,CAAC,IAAD,CAAP;AACrB,GAXD;;AAaA,QAAMU,WAAW,GAAGhB,OAAO,IAAIK,IAA/B;AAEA,sBACE,QAAC,SAAD;AAAA,eAEI,CAACW,WAAD,iBAAgB,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAET,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFpB,EAKIS,WAAW,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALnB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD","sourcesContent":["import { useState } from 'react'\nimport { useRouter } from 'next/router'\nimport styled from 'styled-components'\n\nimport Button from './Button'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport default function Sort ({hasDrew}) {\n  const router = useRouter()\n  const { id, adminKey } = router.query\n  const [drew, setDrew] = useState(false)\n\n  const handleSort = async () => {\n    const { NEXT_PUBLIC_API_URL } = process.env\n    \n    const { status } = await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/draw`, {\n      method: 'PUT',\n      headers: new Headers({\n        'admin-key': adminKey\n      })\n    })\n\n    if (status === 200) setDrew(true)\n  }\n\n  const DREW_STATUS = hasDrew || drew\n\n  return (\n    <Container>\n      {\n        !DREW_STATUS && <Button onClick={handleSort}>Sortear</Button>\n      }\n      {\n        DREW_STATUS && <p>O sorteio jรก foi realizado.</p>\n      }\n    </Container>\n  )\n}"]},"metadata":{},"sourceType":"module"}