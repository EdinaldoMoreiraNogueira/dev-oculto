{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport Button from './button';\nconst Container = styled.div.withConfig({\n  displayName: \"Sort__Container\",\n  componentId: \"snc6fl-0\"\n})([\"display:flex;align-items:center;justify-content:center;\"]);\nexport default function Sort({\n  hasDrew\n}) {\n  const router = useRouter();\n  const {\n    id,\n    adminKey\n  } = router.query;\n  const {\n    0: drew,\n    1: setDrew\n  } = useState(false);\n\n  const handleSort = async () => {\n    const {\n      NEXT_PUBLIC_API_URL\n    } = process.env;\n    const {\n      status\n    } = await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/draw`, {\n      method: 'PUT',\n      headers: new Headers({\n        'admin-key': adminKey\n      })\n    });\n    if (status === 200) setDrew(true);\n  };\n\n  const DREW_STATUS = hasDrew || drew;\n  return /*#__PURE__*/_jsxs(Container, {\n    children: [!DREW_STATUS && /*#__PURE__*/_jsx(Button, {\n      onClick: handleSort,\n      children: \"Sortear\"\n    }), DREW_STATUS && /*#__PURE__*/_jsx(\"p\", {\n      children: \"O sorteio j\\xE1 foi realizado.\"\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}