{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/acer/Diversos/devweek/dev-oculto/src/components/Headers/SecretHeader.js\";\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport ImageContainer from '../Containers/ImageContainer';\nimport Logo from '../logo';\nimport NameEmailForm from '../nameEmailForm';\nconst Container = styled.div.withConfig({\n  displayName: \"SecretHeader__Container\",\n  componentId: \"sc-1oay8m0-0\"\n})([\"display:flex;flex-direction:column;align-items:center;justify-content:center;color:\", \";\"], ({\n  theme\n}) => theme.colors.light);\nconst DivForm = styled.div.withConfig({\n  displayName: \"SecretHeader__DivForm\",\n  componentId: \"sc-1oay8m0-1\"\n})([\"display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;\"]);\nexport default function SecretHeader({\n  onAddParticipant\n}) {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n\n  const handleSubmit = async ({\n    name,\n    email\n  }) => {\n    const {\n      NEXT_PUBLIC_API_URL\n    } = process.env;\n    const data = await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/participants`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        email\n      })\n    });\n    handleResponse({\n      name,\n      email,\n      response: await data.json()\n    });\n  };\n\n  const handleResponse = ({\n    name,\n    email,\n    response\n  }) => {\n    if (response.success) {\n      onAddParticipant({\n        name,\n        email,\n        externalId: response.id\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ImageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Voc\\xEA foi convidado para participar deste amigo secreto de Fulano!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DivForm, {\n      children: /*#__PURE__*/_jsxDEV(NameEmailForm, {\n        buttonText: \"Participar\",\n        onSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/home/acer/Diversos/devweek/dev-oculto/src/components/Headers/SecretHeader.js"],"names":["useRouter","styled","ImageContainer","Logo","NameEmailForm","Container","div","theme","colors","light","DivForm","SecretHeader","onAddParticipant","router","id","query","handleSubmit","name","email","NEXT_PUBLIC_API_URL","process","env","data","fetch","method","body","JSON","stringify","handleResponse","response","json","success","externalId"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,MAAMC,SAAS,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,iGAKJ,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,KALxB,CAAf;AAQA,MAAMC,OAAO,GAAGT,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,gGAAb;AAQA,eAAe,SAASK,YAAT,CAAuB;AAAEC,EAAAA;AAAF,CAAvB,EAA6C;AAC1D,QAAMC,MAAM,GAAGb,SAAS,EAAxB;AACA,QAAM;AAAEc,IAAAA;AAAF,MAASD,MAAM,CAACE,KAAtB;;AAEA,QAAMC,YAAY,GAAG,OAAO;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,GAAP,KAAyB;AAC5C,UAAM;AAAEC,MAAAA;AAAF,QAA0BC,OAAO,CAACC,GAAxC;AACA,UAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,GAAEJ,mBAAoB,YAAWL,EAAG,eAAtC,EAAsD;AAC5EU,MAAAA,MAAM,EAAE,MADoE;AAE5EC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBV,QAAAA,IADmB;AAEnBC,QAAAA;AAFmB,OAAf;AAFsE,KAAtD,CAAxB;AAOAU,IAAAA,cAAc,CAAC;AAACX,MAAAA,IAAD;AAAOC,MAAAA,KAAP;AAAcW,MAAAA,QAAQ,EAAE,MAAMP,IAAI,CAACQ,IAAL;AAA9B,KAAD,CAAd;AACD,GAVD;;AAYA,QAAMF,cAAc,GAAG,CAAC;AAACX,IAAAA,IAAD;AAAOC,IAAAA,KAAP;AAAcW,IAAAA;AAAd,GAAD,KAA6B;AAClD,QAAIA,QAAQ,CAACE,OAAb,EAAsB;AACpBnB,MAAAA,gBAAgB,CAAC;AAAEK,QAAAA,IAAF;AAAQC,QAAAA,KAAR;AAAec,QAAAA,UAAU,EAAEH,QAAQ,CAACf;AAApC,OAAD,CAAhB;AACD;AACF,GAJD;;AAMA,sBACE,QAAC,cAAD;AAAA,4BACE,QAAC,SAAD;AAAA,8BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAKE,QAAC,OAAD;AAAA,6BACE,QAAC,aAAD;AACE,QAAA,UAAU,EAAC,YADb;AAEE,QAAA,QAAQ,EAAEE;AAFZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD","sourcesContent":["import { useRouter } from 'next/router'\nimport styled from 'styled-components'\n\nimport ImageContainer from '../Containers/ImageContainer'\nimport Logo from '../logo'\nimport NameEmailForm from '../nameEmailForm'\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: ${({ theme }) => theme.colors.light};\n`\n\nconst DivForm = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n`\n\nexport default function SecretHeader ({ onAddParticipant }) {\n  const router = useRouter()\n  const { id } = router.query\n\n  const handleSubmit = async ({name, email}) => {\n    const { NEXT_PUBLIC_API_URL } = process.env\n    const data = await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/participants`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        email\n      })\n    })\n    handleResponse({name, email, response: await data.json()})\n  }\n\n  const handleResponse = ({name, email, response}) => {\n    if (response.success) {\n      onAddParticipant({ name, email, externalId: response.id })\n    }\n  }\n\n  return (\n    <ImageContainer>\n      <Container>\n        <Logo />\n        <p>VocÃª foi convidado para participar deste amigo secreto de Fulano!</p>\n      </Container>\n      <DivForm>\n        <NameEmailForm \n          buttonText=\"Participar\"\n          onSubmit={handleSubmit}\n        />\n      </DivForm>\n    </ImageContainer>\n  )\n}"]},"metadata":{},"sourceType":"module"}