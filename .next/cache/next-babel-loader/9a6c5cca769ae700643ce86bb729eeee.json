{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/acer/Diversos/devweek/dev-oculto/src/components/Participants.js\";\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { RiDeleteBin2Fill } from \"react-icons/ri\";\nconst H4 = styled.h4.withConfig({\n  displayName: \"Participants__H4\",\n  componentId: \"sc-1d35l0n-0\"\n})([\"text-align:center;\"]);\nconst Container = styled.div.withConfig({\n  displayName: \"Participants__Container\",\n  componentId: \"sc-1d35l0n-1\"\n})([\"display:flex;padding:5px 20px;justify-content:center;align-items:center;flex-direction:column;\"]);\nconst ParticipantDiv = styled.div.withConfig({\n  displayName: \"Participants__ParticipantDiv\",\n  componentId: \"sc-1d35l0n-2\"\n})([\"display:flex;align-items:center;\"]);\nconst ParticipantDelete = styled.span.withConfig({\n  displayName: \"Participants__ParticipantDelete\",\n  componentId: \"sc-1d35l0n-3\"\n})([\"color:\", \";cursor:pointer;\"], ({\n  theme\n}) => theme.colors.primary);\n\nconst Participant = ({\n  name,\n  email,\n  showButton,\n  deleteParticipant\n}) => /*#__PURE__*/_jsxDEV(ParticipantDiv, {\n  children: [showButton && /*#__PURE__*/_jsxDEV(ParticipantDelete, {\n    onClick: deleteParticipant,\n    children: /*#__PURE__*/_jsxDEV(RiDeleteBin2Fill, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 54\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 7\n  }, this), name, \" (\", email, \")\"]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 27,\n  columnNumber: 3\n}, this);\n\nexport default function Participants({\n  showButton,\n  participants,\n  setParticipants\n}) {\n  const router = useRouter();\n  const {\n    id,\n    adminKey\n  } = router.query;\n\n  const deleteAPIParticipant = async participantId => {\n    const {\n      NEXT_PUBLIC_API_URL\n    } = process.env;\n    return await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/participants/${participantId}`, {\n      method: 'DELETE',\n      headers: new Headers({\n        'admin-key': adminKey\n      })\n    });\n  };\n\n  const deleteParticipant = async id => {\n    const {\n      status\n    } = await deleteAPIParticipant(id);\n    if (status === 204) setParticipants(participants.filter(({\n      externalId\n    }) => externalId !== id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(H4, {\n      children: \"Participantes: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [participants.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum participante cadastrado ainda.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 40\n      }, this), participants.map(({\n        name,\n        email,\n        externalId\n      }, key) => {\n        return /*#__PURE__*/_jsxDEV(Participant, {\n          name: name,\n          email: email,\n          showButton: showButton,\n          deleteParticipant: () => deleteParticipant(externalId)\n        }, `participant-${key}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}","map":{"version":3,"sources":["/home/acer/Diversos/devweek/dev-oculto/src/components/Participants.js"],"names":["useRouter","styled","RiDeleteBin2Fill","H4","h4","Container","div","ParticipantDiv","ParticipantDelete","span","theme","colors","primary","Participant","name","email","showButton","deleteParticipant","Participants","participants","setParticipants","router","id","adminKey","query","deleteAPIParticipant","participantId","NEXT_PUBLIC_API_URL","process","env","fetch","method","headers","Headers","status","filter","externalId","length","map","key"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,gBAAT,QAAiC,gBAAjC;AAEA,MAAMC,EAAE,GAAGF,MAAM,CAACG,EAAV;AAAA;AAAA;AAAA,0BAAR;AAIA,MAAMC,SAAS,GAAGJ,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,sGAAf;AAQA,MAAMC,cAAc,GAAGN,MAAM,CAACK,GAAV;AAAA;AAAA;AAAA,wCAApB;AAIA,MAAME,iBAAiB,GAAGP,MAAM,CAACQ,IAAV;AAAA;AAAA;AAAA,mCACZ,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,OADhB,CAAvB;;AAKA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA,KAAP;AAAcC,EAAAA,UAAd;AAA0BC,EAAAA;AAA1B,CAAD,kBAClB,QAAC,cAAD;AAAA,aAEID,UAAU,iBACV,QAAC,iBAAD;AAAmB,IAAA,OAAO,EAAEC,iBAA5B;AAAA,2BAA+C,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAA/C;AAAA;AAAA;AAAA;AAAA,UAHJ,EAKGH,IALH,QAKWC,KALX;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;;AAUA,eAAe,SAASG,YAAT,CAAuB;AAAEF,EAAAA,UAAF;AAAcG,EAAAA,YAAd;AAA4BC,EAAAA;AAA5B,CAAvB,EAAsE;AACnF,QAAMC,MAAM,GAAGrB,SAAS,EAAxB;AACA,QAAM;AAAEsB,IAAAA,EAAF;AAAMC,IAAAA;AAAN,MAAmBF,MAAM,CAACG,KAAhC;;AAEA,QAAMC,oBAAoB,GAAG,MAAOC,aAAP,IAAyB;AACpD,UAAM;AAAEC,MAAAA;AAAF,QAA0BC,OAAO,CAACC,GAAxC;AACA,WAAO,MAAMC,KAAK,CAAE,GAAEH,mBAAoB,YAAWL,EAAG,iBAAgBI,aAAc,EAApE,EAAuE;AACvFK,MAAAA,MAAM,EAAE,QAD+E;AAEvFC,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnB,qBAAaV;AADM,OAAZ;AAF8E,KAAvE,CAAlB;AAMD,GARD;;AAUA,QAAMN,iBAAiB,GAAG,MAAOK,EAAP,IAAc;AACtC,UAAM;AAAEY,MAAAA;AAAF,QAAa,MAAMT,oBAAoB,CAACH,EAAD,CAA7C;AACA,QAAIY,MAAM,KAAK,GAAf,EACEd,eAAe,CAACD,YAAY,CAACgB,MAAb,CAAoB,CAAC;AAACC,MAAAA;AAAD,KAAD,KAAkBA,UAAU,KAAKd,EAArD,CAAD,CAAf;AACH,GAJD;;AAKA,sBACE;AAAA,4BACE,QAAC,EAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,SAAD;AAAA,iBAEIH,YAAY,CAACkB,MAAb,KAAwB,CAAxB,iBAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFjC,EAKIlB,YAAY,CAACmB,GAAb,CAAiB,CAAC;AAACxB,QAAAA,IAAD;AAAOC,QAAAA,KAAP;AAAcqB,QAAAA;AAAd,OAAD,EAA4BG,GAA5B,KAAoC;AACnD,4BAAO,QAAC,WAAD;AAEL,UAAA,IAAI,EAAEzB,IAFD;AAGL,UAAA,KAAK,EAAEC,KAHF;AAIL,UAAA,UAAU,EAAEC,UAJP;AAKL,UAAA,iBAAiB,EAAE,MAAMC,iBAAiB,CAACmB,UAAD;AALrC,WACC,eAAcG,GAAI,EADnB;AAAA;AAAA;AAAA;AAAA,gBAAP;AAOD,OARD,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAqBD","sourcesContent":["import { useRouter } from 'next/router'\nimport styled from 'styled-components'\nimport { RiDeleteBin2Fill } from \"react-icons/ri\"\n\nconst H4 = styled.h4`\n  text-align: center;\n`\n\nconst Container = styled.div`\n  display: flex;\n  padding: 5px 20px;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`\n\nconst ParticipantDiv = styled.div`\n  display: flex;\n  align-items: center;\n`\nconst ParticipantDelete = styled.span`\n  color: ${({ theme }) => theme.colors.primary};\n  cursor: pointer;\n`\n\nconst Participant = ({name, email, showButton, deleteParticipant}) => (\n  <ParticipantDiv>\n    {\n      showButton && \n      <ParticipantDelete onClick={deleteParticipant}><RiDeleteBin2Fill /></ParticipantDelete>\n    }\n    {name} ({email})\n  </ParticipantDiv>\n)\n\nexport default function Participants ({ showButton, participants, setParticipants }) {\n  const router = useRouter()\n  const { id, adminKey } = router.query\n\n  const deleteAPIParticipant = async (participantId) => {\n    const { NEXT_PUBLIC_API_URL } = process.env\n    return await fetch(`${NEXT_PUBLIC_API_URL}/secrets/${id}/participants/${participantId}`, {\n      method: 'DELETE',\n      headers: new Headers({\n        'admin-key': adminKey\n      })\n    })\n  }\n\n  const deleteParticipant = async (id) => {\n    const { status } = await deleteAPIParticipant(id)\n    if (status === 204)\n      setParticipants(participants.filter(({externalId}) => externalId !== id))\n  }\n  return (\n    <>\n      <H4>Participantes: </H4>\n      <Container>\n        {\n          participants.length === 0 && <p>Nenhum participante cadastrado ainda.</p>\n        }\n        {\n          participants.map(({name, email, externalId}, key) => {\n            return <Participant \n              key={`participant-${key}`}\n              name={name}\n              email={email}\n              showButton={showButton} \n              deleteParticipant={() => deleteParticipant(externalId)}\n            />\n          })\n        }\n      </Container>\n    </>\n  )\n}"]},"metadata":{},"sourceType":"module"}