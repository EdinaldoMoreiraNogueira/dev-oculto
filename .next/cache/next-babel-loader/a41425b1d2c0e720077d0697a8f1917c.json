{"ast":null,"code":"import _regeneratorRuntime from \"/home/acer/Diversos/devweek/dev-oculto/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/acer/Diversos/devweek/dev-oculto/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/acer/Diversos/devweek/dev-oculto/src/components/Headers/HomePageHeaders.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useRouter } from 'next/router';\nimport ImageContainer from '../Container/ImageContainer';\nimport Logo from '../logo';\nimport NameEmailForm from '../nameEmailForm';\nvar Container = styled.div.withConfig({\n  displayName: \"HomePageHeaders__Container\",\n  componentId: \"sc-1mo9hg1-0\"\n})([\"display:flex;flex-direction:column;justify-content:center;min-height:80vh;color:\", \" padding-left:40px;\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.colors.light;\n});\n_c = Container;\nvar FormDiv = styled.div.withConfig({\n  displayName: \"HomePageHeaders__FormDiv\",\n  componentId: \"sc-1mo9hg1-1\"\n})([\"display:flex;flex-direction:row;justify-content:center;align-items:center;flex-shrink:0;\"]);\n_c2 = FormDiv;\nexport default function HomePageHeaders() {\n  _s();\n\n  var router = useRouter();\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n      var name, email, NEXT_PUBLIC_API_URL, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              name = _ref2.name, email = _ref2.email;\n              NEXT_PUBLIC_API_URL = process.env.NEXT_PUBLIC_API_URL;\n              _context.next = 4;\n              return fetch(\"\".concat(NEXT_PUBLIC_API_URL, \"/secrets\"), {\n                method: 'POST',\n                body: JSON.stringify({\n                  name: name,\n                  email: email\n                })\n              });\n\n            case 4:\n              data = _context.sent;\n              _context.t0 = handleResponse;\n              _context.next = 8;\n              return data.json();\n\n            case 8:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleResponse = function handleResponse(_ref4) {\n    var success = _ref4.success,\n        id = _ref4.id,\n        adminKey = _ref4.adminKey;\n\n    if (response.success) {\n      router.push(\"/secrets/\".concat(response.id, \"?adminKey=\").concat(response.adminKey));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ImageContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"A melhor brincadeira do Natal \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(FormDiv, {\n      children: /*#__PURE__*/_jsxDEV(NameEmailForm, {\n        onSubmit: handleSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HomePageHeaders, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c3 = HomePageHeaders;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"FormDiv\");\n$RefreshReg$(_c3, \"HomePageHeaders\");","map":{"version":3,"sources":["/home/acer/Diversos/devweek/dev-oculto/src/components/Headers/HomePageHeaders.js"],"names":["styled","useRouter","ImageContainer","Logo","NameEmailForm","Container","div","theme","colors","light","FormDiv","HomePageHeaders","router","handleSubmit","name","email","NEXT_PUBLIC_API_URL","process","env","fetch","method","body","JSON","stringify","data","handleResponse","json","success","id","adminKey","response","push"],"mappings":";;;;;;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AAEA,IAAMC,SAAS,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,gHAKN;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAcA,KAAK,CAACC,MAAN,CAAaC,KAA3B;AAAA,CALM,CAAf;KAAMJ,S;AAUN,IAAMK,OAAO,GAAGV,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,gGAAb;MAAMI,O;AASN,eAAe,SAASC,eAAT,GAA2B;AAAA;;AACtC,MAAMC,MAAM,GAAGX,SAAS,EAAxB;;AAEA,MAAMY,YAAY;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAQC,cAAAA,IAAR,SAAQA,IAAR,EAAcC,KAAd,SAAcA,KAAd;AACfC,cAAAA,mBADe,GACSC,OAAO,CAACC,GADjB,CACfF,mBADe;AAAA;AAAA,qBAEHG,KAAK,WAAIH,mBAAJ,eAAmC;AACvDI,gBAAAA,MAAM,EAAE,MAD+C;AAEvDC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBT,kBAAAA,IAAI,EAAJA,IADiB;AAEjBC,kBAAAA,KAAK,EAALA;AAFiB,iBAAf;AAFiD,eAAnC,CAFF;;AAAA;AAEhBS,cAAAA,IAFgB;AAAA,4BAUtBC,cAVsB;AAAA;AAAA,qBAUDD,IAAI,CAACE,IAAL,EAVC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAZb,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAYA,MAAMY,cAAc,GAAG,SAAjBA,cAAiB,QAA8B;AAAA,QAA5BE,OAA4B,SAA5BA,OAA4B;AAAA,QAAnBC,EAAmB,SAAnBA,EAAmB;AAAA,QAAfC,QAAe,SAAfA,QAAe;;AACjD,QAAGC,QAAQ,CAACH,OAAZ,EAAqB;AACjBf,MAAAA,MAAM,CAACmB,IAAP,oBAAwBD,QAAQ,CAACF,EAAjC,uBAAgDE,QAAQ,CAACD,QAAzD;AACH;AACJ,GAJD;;AAKJ,sBACI,QAAC,cAAD;AAAA,4BACG,QAAC,SAAD;AAAA,8BACA,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,cADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA;AAAA;AAAA;AAAA;AAAA,YADH,eAKG,QAAC,OAAD;AAAA,6BACI,QAAC,aAAD;AAAe,QAAA,QAAQ,EAAEhB;AAAzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YALH;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWC;;GA/BuBF,e;UACLV,S;;;MADKU,e","sourcesContent":["import styled from 'styled-components';\nimport { useRouter } from 'next/router'\nimport ImageContainer from '../Container/ImageContainer';\nimport Logo from '../logo';\nimport NameEmailForm from '../nameEmailForm';\n\nconst Container = styled.div`\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nmin-height: 80vh;\ncolor: ${({ theme })=> theme.colors.light}\npadding-left: 40px;\n\n`;\n\nconst FormDiv = styled.div`\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\nalign-items: center;\nflex-shrink: 0;\n\n`;\n\nexport default function HomePageHeaders (){\n    const router = useRouter();\n\n    const handleSubmit =  async ({name, email}) => {\n    const{ NEXT_PUBLIC_API_URL } = process.env;\n    const data = await fetch(`${NEXT_PUBLIC_API_URL}/secrets`, {\n        method: 'POST',\n        body: JSON.stringify({\n            name,\n            email,\n\n        })\n    }) \n    handleResponse(await data.json());\n    }\n    const handleResponse = ({success, id, adminKey }) => {\n        if(response.success) {\n            router.push(`/secrets/${response.id}?adminKey=${response.adminKey}`)\n        }\n    }\nreturn (\n    <ImageContainer>\n       <Container>\n       <Logo />\n       <h2>A melhor brincadeira do Natal </h2>\n       </Container>\n       <FormDiv>\n           <NameEmailForm onSubmit={handleSubmit} />\n       </FormDiv>\n    </ImageContainer>\n)\n}"]},"metadata":{},"sourceType":"module"}