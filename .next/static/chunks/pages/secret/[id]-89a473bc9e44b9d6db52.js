_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"0lgG":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),n.d(e,"__N_SSP",(function(){return E}));var a=n("nKUr"),o=n("q1tI"),i=n("o0o1"),s=n.n(i),u=n("HaE+"),l=n("nOHt"),p=n("vOnD"),d=n("4k8l"),f=n("I4A6"),m=n("pN4g"),b=p.c.div.withConfig({displayName:"SecretHeader__Container",componentId:"sc-1oay8m0-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:",";"],(function(t){return t.theme.colors.light})),h=p.c.div.withConfig({displayName:"SecretHeader__DivForm",componentId:"sc-1oay8m0-1"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;flex-shrink:0;"]);function j(t){var e=t.onAddParticipant,n=Object(l.useRouter)().query.id,r=function(){var t=Object(u.a)(s.a.mark((function t(e){var r,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.email,"http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev",t.next=4,fetch("".concat("http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev","/secret/").concat(n,"/participants"),{method:"POST",body:JSON.stringify({name:r,email:a})});case 4:return o=t.sent,t.t0=c,t.t1=r,t.t2=a,t.next=10,o.json();case 10:t.t3=t.sent,t.t4={name:t.t1,email:t.t2,response:t.t3},(0,t.t0)(t.t4);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(t){var n=t.name,r=t.email,c=t.response;c.success&&e({name:n,email:r,externalId:c.id})};return Object(a.jsxs)(d.a,{children:[Object(a.jsxs)(b,{children:[Object(a.jsx)(f.a,{}),Object(a.jsx)("p",{children:"Voc\xea foi convidado para participar deste amigo secreto de Fulano!"})]}),Object(a.jsx)(h,{children:Object(a.jsx)(m.a,{buttonText:"Participar",onSubmit:r})})]})}var O=n("44PY"),y=p.c.div.withConfig({displayName:"AdminSecretHeaders__Container",componentId:"sc-1kmgw7r-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;color:",";"],(function(t){return t.theme.colors.light})),v=p.c.div.withConfig({displayName:"AdminSecretHeaders__DivForm",componentId:"sc-1kmgw7r-1"})(["color:",";padding:20px;max-width:400px;"],(function(t){return t.theme.colors.light}));function x(){var t=Object(o.useState)(""),e=t[0],n=t[1];return Object(o.useEffect)((function(){n("".concat(window.location.origin+window.location.pathname))}),[]),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(y,{children:Object(a.jsx)(f.a,{})}),Object(a.jsxs)(v,{children:[Object(a.jsx)("p",{children:"Compartilhe essa sala com seus amigos!"}),Object(a.jsx)(O.a,{value:e,disabled:!0})]})]})}var g=n("v7au"),w=p.c.h4.withConfig({displayName:"Participants__H4",componentId:"sc-1d35l0n-0"})(["text-align:center;"]),P=p.c.div.withConfig({displayName:"Participants__Container",componentId:"sc-1d35l0n-1"})(["display:flex;padding:5px 20px;justify-content:center;align-items:center;flex-direction:column;"]),_=p.c.div.withConfig({displayName:"Participants__ParticipantDiv",componentId:"sc-1d35l0n-2"})(["display:flex;align-items:center;"]),S=p.c.span.withConfig({displayName:"Participants__ParticipantDelete",componentId:"sc-1d35l0n-3"})(["color:",";cursor:pointer;"],(function(t){return t.theme.colors.primary})),C=function(t){var e=t.name,n=t.email,r=t.showButton,c=t.deleteParticipant;return Object(a.jsxs)(_,{children:[r&&Object(a.jsx)(S,{onClick:c,children:Object(a.jsx)(g.a,{})}),e," (",n,")"]})};function N(t){var e=t.showButton,n=t.participants,r=t.setParticipants,c=Object(l.useRouter)().query,o=c.id,i=c.adminKey,p=function(){var t=Object(u.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev",t.next=3,fetch("".concat("http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev","/secrets/").concat(o,"/participants/").concat(e),{method:"DELETE",headers:new Headers({"admin-key":i})});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(u.a)(s.a.mark((function t(e){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:c=t.sent,204===c.status&&r(n.filter((function(t){return t.externalId!==e})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{children:"Participantes: "}),Object(a.jsxs)(P,{children:[0===n.length&&Object(a.jsx)("p",{children:"Nenhum participante cadastrado ainda."}),n.map((function(t,n){var r=t.name,c=t.email,o=t.externalId;return Object(a.jsx)(C,{name:r,email:c,showButton:e,deleteParticipant:function(){return d(o)}},"participant-".concat(n))}))]})]})}var k=n("ZXdF"),I=p.c.div.withConfig({displayName:"Sort__Container",componentId:"snc6fl-0"})(["display:flex;align-items:center;justify-content:center;"]);function D(t){var e=t.hasDrew,n=Object(l.useRouter)().query,r=n.id,c=n.adminKey,i=Object(o.useState)(!1),p=i[0],d=i[1],f=function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev",t.next=3,fetch("".concat("http://zljh87a1cb.execute.api.us-east-1.amazonaws.com/dev","/secrets/").concat(r,"/draw"),{method:"PUT",headers:new Headers({"admin-key":c})});case 3:e=t.sent,200===e.status&&d(!0);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=e||p;return Object(a.jsxs)(I,{children:[!m&&Object(a.jsx)(k.a,{onClick:f,children:"Sortear"}),m&&Object(a.jsx)("p",{children:"O sorteio j\xe1 foi realizado."})]})}var E=!0;e.default=function(t){var e=t.participants,n=t.hasDrew,r=t.isAdmin,i=Object(o.useState)([]),s=i[0],u=i[1];return Object(o.useEffect)((function(){u(e),console.log({participants:e,hasDrew:n,isAdmin:r})}),[]),Object(a.jsxs)(a.Fragment,{children:[r&&Object(a.jsx)(x,{}),!r&&Object(a.jsx)(j,{onAddParticipant:function(t){return u([].concat(c(s),[t]))}}),Object(a.jsx)(N,{showButton:r,participants:s,setParticipants:u}),r&&Object(a.jsx)(D,{hasDrew:n})]})}},"44PY":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("rePB"),c=n("nKUr");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var o=n("vOnD").c.input.withConfig({displayName:"input__Input",componentId:"yxxi-0"})(["padding:20px;color:",";background-color:",";border:0;border-radius:10px;width:88%;&:focus{border:none;outline:none;}&::placeholder{color:",";"],(function(t){return t.theme.colors.primary}),(function(t){return t.theme.colors.primaryLight}),(function(t){return t.theme.colors.primary}));function i(t){return Object(c.jsx)(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},"4k8l":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("nKUr"),c=n("vOnD").c.div.withConfig({displayName:"ImageContainer__Background",componentId:"sc-19jwut0-0"})(["background-image:url('/background.png');background-position:center;background-repeat:no-repeat;background-size:cover;"]);function a(t){var e=t.children;return Object(r.jsx)(c,{children:e})}},"HaE+":function(t,e,n){"use strict";function r(t,e,n,r,c,a,o){try{var i=t[a](o),s=i.value}catch(u){return void n(u)}i.done?e(s):Promise.resolve(s).then(r,c)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(c,a){var o=t.apply(e,n);function i(t){r(o,c,a,i,s,"next",t)}function s(t){r(o,c,a,i,s,"throw",t)}i(void 0)}))}}n.d(e,"a",(function(){return c}))},I4A6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("nKUr"),c=n("vOnD").c.div.withConfig({displayName:"logo__H1",componentId:"sc-1byppf9-0"})(["font-size:64px;color:",""],(function(t){return t.theme.colors.light}));function a(){return Object(r.jsx)(c,{children:"{Amigo} Oculto"})}},Jybp:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/secret/[id]",function(){return n("0lgG")}])},Lnxd:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("q1tI"),c=n.n(r),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=c.a.createContext&&c.a.createContext(a),i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var c in e=arguments[n])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t}).apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(r=Object.getOwnPropertySymbols(t);c<r.length;c++)e.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(t,r[c])&&(n[r[c]]=t[r[c]])}return n};function u(t){return function(e){return c.a.createElement(l,i({attr:i({},t.attr)},e),function t(e){return e&&e.map((function(e,n){return c.a.createElement(e.tag,i({key:n},e.attr),t(e.child))}))}(t.child))}}function l(t){var e=function(e){var n,r=t.attr,a=t.size,o=t.title,u=s(t,["attr","size","title"]),l=a||e.size||"1em";return e.className&&(n=e.className),t.className&&(n=(n?n+" ":"")+t.className),c.a.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,r,u,{className:n,style:i(i({color:t.color||e.color},e.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&c.a.createElement("title",null,o),t.children)};return void 0!==o?c.a.createElement(o.Consumer,null,(function(t){return e(t)})):e(a)}},ZXdF:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("rePB"),c=n("nKUr");function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var o=n("vOnD").c.button.withConfig({displayName:"button__StyleButton",componentId:"sc-15wau8f-0"})(["border:none;cursor:pointer;padding:15px 30px;font-size:14px;border-radius:50px;display:block;margin:10px 0;background-color:",";"],(function(t){return t.theme.colors.secondary}));function i(t){return Object(c.jsx)(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))}},pN4g:function(t,e,n){"use strict";var r=n("nKUr"),c=n("vOnD"),a=n("q1tI"),o=n("44PY"),i=n("ZXdF"),s=c.c.form.withConfig({displayName:"nameEmailForm__Form",componentId:"sc-1mcocyd-0"})(["flex:1;display:flex;max-width:900px;padding:20px;@media (max-width:500px){flex-direction:column;}> input,button{margin:10px;}"]);function u(t){var e=t.buttonText,n=t.onSubmit,c=Object(a.useState)(""),u=c[0],l=c[1],p=Object(a.useState)(""),d=p[0],f=p[1];return Object(r.jsxs)(s,{onSubmit:function(t){t.preventDefault(),n({name:u,email:d}),l(""),f("")},children:[Object(r.jsx)(o.a,{placeholder:"Seu nome",required:!0,value:u,onChange:function(t){var e=t.target;return l(e.value)}}),Object(r.jsx)(o.a,{type:"email",placeholder:"Seu email",required:!0,value:d,onChange:function(t){var e=t.target;return f(e.value)}}),Object(r.jsx)(i.a,{type:"submit",children:e})]})}u.defaultProps={buttonText:"Criar",onSubmit:function(){}},e.a=u}},[["Jybp",0,2,4,1,3]]]);